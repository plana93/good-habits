# ğŸ¨ Visual Architecture Overview - Phase 5 & 6

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        GOOD HABITS APP                                   â”‚
â”‚                    (Pose Detection & Analytics)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   PHASE 5      â”‚          â”‚   PHASE 6    â”‚
            â”‚  Visualization â”‚          â”‚  Multi-Exe   â”‚
            â”‚  âœ… COMPLETE   â”‚          â”‚  ğŸŸ¡ 60% DONE â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚     â”‚                 â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â–¼â”€â”€â”  â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Charts â”‚            â”‚Dialog â”‚  â”‚         â”‚  Exercise      â”‚
    â”‚ System â”‚            â”‚ Detailâ”‚  â”‚         â”‚  System        â”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                             â”‚
    â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
    â”‚        â”‚        â”‚               â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Scatterâ”‚Heatlineâ”‚Rep     â”‚      â”‚Models  â”‚DAO    â”‚Presets  â”‚
â”‚Chart â”‚ Chart  â”‚Detail  â”‚      â”‚        â”‚       â”‚Manager  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Phase 5: Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Workout     â”‚
â”‚ Session     â”‚  (Database)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Load reps
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚SessionDetail â”‚
â”‚ViewModel     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ StateFlow<List<RepData>>
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SessionDetailScreen (Compose)      â”‚
â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  Lista â”‚  â”‚Grafici â”‚  â—„â”€â”€ Tabs  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜             â”‚
â”‚                  â”‚                   â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚         â”‚                 â”‚          â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”      â”‚
â”‚    â”‚ Scatter  â”‚    â”‚Heatline â”‚      â”‚
â”‚    â”‚  Chart   â”‚    â”‚  Chart  â”‚      â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚         â”‚                            â”‚
â”‚         â”‚ onClick(RepData)           â”‚
â”‚         â–¼                            â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚    â”‚ RepDetail  â”‚                    â”‚
â”‚    â”‚   Dialog   â”‚                    â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ‹ï¸ Phase 6: System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Exercise System                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚             â”‚             â”‚
       â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
       â”‚ Models  â”‚   â”‚   DAO   â”‚  â”‚ Presets  â”‚
       â”‚         â”‚   â”‚         â”‚  â”‚ Manager  â”‚
       â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
            â”‚             â”‚            â”‚
            â”‚             â”‚            â”‚
            â–¼             â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Room Database (v3)                   â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚        exercises TABLE                  â”‚     â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚     â”‚
â”‚  â”‚  exerciseId (PK)                        â”‚     â”‚
â”‚  â”‚  name                                   â”‚     â”‚
â”‚  â”‚  type (Squat/Push-up/etc)              â”‚     â”‚
â”‚  â”‚  startPositionKeypoints (FloatArray)   â”‚     â”‚
â”‚  â”‚  endPositionKeypoints (FloatArray)     â”‚     â”‚
â”‚  â”‚  rules (List<ExerciseRule>)            â”‚     â”‚
â”‚  â”‚  depthTolerance                         â”‚     â”‚
â”‚  â”‚  symmetryTolerance                      â”‚     â”‚
â”‚  â”‚  isCustom                               â”‚     â”‚
â”‚  â”‚  tags                                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Exercise Rule System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Exercise Definition                â”‚
â”‚                                            â”‚
â”‚  Name: "Squat"                             â”‚
â”‚  Type: SQUAT                               â”‚
â”‚  Description: "Squat classico..."          â”‚
â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚         Rules System                 â”‚ â”‚
â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚  Rule 1: DISTANCE_MIN               â”‚ â”‚
â”‚  â”‚    Keypoints: [5, 13]  (Shoulderâ†’Knee)â”‚
â”‚  â”‚    Target: 0.3         Weight: 1.5   â”‚ â”‚
â”‚  â”‚    âœ“ "Scendi abbastanza in basso"   â”‚ â”‚
â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚  Rule 2: SYMMETRY_LEFT_RIGHT        â”‚ â”‚
â”‚  â”‚    Keypoints: [5,6,13,14]  (Shouldersâ”‚ â”‚
â”‚  â”‚    Tolerance: 0.1      Weight: 1.0   â”‚ â”‚
â”‚  â”‚    âœ“ "Mantieni corpo simmetrico"    â”‚ â”‚
â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚  Rule 3: POSITION_ABOVE             â”‚ â”‚
â”‚  â”‚    Keypoints: [15, 16]  (Ankles)    â”‚ â”‚
â”‚  â”‚    Tolerance: 0.05     Weight: 0.8   â”‚ â”‚
â”‚  â”‚    âœ“ "Piedi allineati"              â”‚ â”‚
â”‚  â”‚                                      â”‚ â”‚
â”‚  â”‚  Rule 4: VISIBILITY_REQUIRED        â”‚ â”‚
â”‚  â”‚    Keypoints: [5,6,11,12,13,14,15,16]â”‚ â”‚
â”‚  â”‚    Threshold: 0.45     Weight: 2.0   â”‚ â”‚
â”‚  â”‚    âœ“ "Corpo completamente visibile" â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                            â”‚
â”‚  Score Calculation:                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  FormScore = Î£(RuleScore Ã— Weight)        â”‚
â”‚              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
â”‚                 Î£(Weight)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“± User Journey: Phase 5 Features

```
1. Complete Workout Session
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Do 50     â”‚
   â”‚  Squats    â”‚
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
2. Open Session Detail
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Dashboard  â”‚
   â”‚ â†’ Tap      â”‚
   â”‚   Session  â”‚
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
3. View Visualizations
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ SessionDetailScreen          â”‚
   â”‚                              â”‚
   â”‚ [Lista] [Grafici] â—„â”€ Tap!   â”‚
   â”‚                              â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚  â”‚   Scatter Chart        â”‚  â”‚
   â”‚  â”‚  ğŸŸ¢ğŸŸ¢ğŸŸ¢ğŸŸ¡ğŸŸ¡ğŸ”´        â”‚  â”‚
   â”‚  â”‚  â€¢ â€¢ â€¢ â€¢ â€¢ â€¢          â”‚  â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
   â”‚                              â”‚
   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
   â”‚  â”‚   Heatline             â”‚  â”‚
   â”‚  â”‚ â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–’â–’â–’         â”‚  â”‚
   â”‚  â”‚ greenâ†’yellowâ†’red       â”‚  â”‚
   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Tap point
         â–¼
4. Drill-down Details
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Rep #23 Details        â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
   â”‚ â° Time: 10:23:45      â”‚
   â”‚ ğŸ“Š Form: 87% â– â– â– â– â– â–¡   â”‚
   â”‚ ğŸ“Š Depth: 92% â– â– â– â– â– â–   â”‚
   â”‚ âš¡ Speed: 2.3s         â”‚
   â”‚                        â”‚
   â”‚ âš ï¸ Warnings:           â”‚
   â”‚ â€¢ Slight asymmetry     â”‚
   â”‚                        â”‚
   â”‚ ğŸ†š vs Best Rep: -5%    â”‚
   â”‚ ğŸ”„ vs Previous: +3%    â”‚
   â”‚                        â”‚
   â”‚      [Close]           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Quality Color System

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Quality Levels                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸŸ¢ EXCELLENT (90-100%)  #4CAF50  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚
â”‚     "Perfect form!"                             â”‚
â”‚                                                 â”‚
â”‚  ğŸŸ¢ GOOD (75-89%)        #8BC34A  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   â”‚
â”‚     "Great execution"                           â”‚
â”‚                                                 â”‚
â”‚  ğŸŸ¡ FAIR (60-74%)        #FFC107  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     â”‚
â”‚     "Acceptable, can improve"                   â”‚
â”‚                                                 â”‚
â”‚  ğŸŸ  POOR (40-59%)        #FF5722  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ       â”‚
â”‚     "Needs attention"                           â”‚
â”‚                                                 â”‚
â”‚  ğŸ”´ CRITICAL (0-39%)     #D32F2F  â–ˆâ–ˆâ–ˆâ–ˆ         â”‚
â”‚     "Major issues"                              â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—ºï¸ Repository Pattern Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI Layer  â”‚  (Compose Screens)
â”‚  ViewModels â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ Repository Interface
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Repository  â”‚  (SessionRepository, ExerciseRepository)
â”‚   Pattern    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ DAO Interface
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DAO Layer   â”‚  (SessionDao, RepDao, ExerciseDao)
â”‚  Room        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ SQL Queries
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database    â”‚  (SQLite - AppDatabase v3)
â”‚  Room v3     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Exercise Preset Loading Flow

```
App Startup
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MainActivity      â”‚
â”‚  onCreate()        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ Init database
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ExercisePresetManager     â”‚
â”‚  initializePresetsIfNeeded()â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ Check count
          â–¼
     â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
     â”‚ Count=0?â”‚
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
          â”‚
     YES  â”‚  NO
     â”‚    â”‚
     â–¼    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Load 5   â”‚  â”‚Skip      â”‚
â”‚Presets  â”‚  â”‚(already  â”‚
â”‚         â”‚  â”‚loaded)   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Database                   â”‚
â”‚  exercises table populated  â”‚
â”‚  with:                      â”‚
â”‚  - Squat                    â”‚
â”‚  - Push-up                  â”‚
â”‚  - Pull-up                  â”‚
â”‚  - Lunge                    â”‚
â”‚  - Plank                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š Chart Data Pipeline

```
Raw Rep Data
    â”‚
    â”‚ List<RepData>
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Transform to     â”‚
â”‚ Chart Models     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                     â”‚
         â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RepChartPoint   â”‚   â”‚ HeatlineSegmentâ”‚
â”‚                 â”‚   â”‚                â”‚
â”‚ - repNumber     â”‚   â”‚ - startRep     â”‚
â”‚ - timestamp     â”‚   â”‚ - endRep       â”‚
â”‚ - depthScore    â”‚   â”‚ - avgDepth     â”‚
â”‚ - formScore     â”‚   â”‚ - avgForm      â”‚
â”‚ - qualityColor  â”‚   â”‚ - qualityColor â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                     â”‚
         â”‚ Render              â”‚ Render
         â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Scatter Chart   â”‚   â”‚ Heatline Chart â”‚
â”‚ (Vico)          â”‚   â”‚ (Canvas)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Complete Feature Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   GOOD HABITS APP                        â”‚
â”‚                  Feature Hierarchy                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”œâ”€ ğŸ“Š Dashboard (Phase 2) âœ…
â”‚  â”œâ”€ Statistics cards
â”‚  â”œâ”€ Line charts
â”‚  â””â”€ Calendar heatmap
â”‚
â”œâ”€ ğŸ“ Sessions List (Phase 1) âœ…
â”‚  â”œâ”€ All sessions
â”‚  â”œâ”€ Filter by date/type
â”‚  â””â”€ Search
â”‚
â”œâ”€ ğŸ” Session Detail (Phase 1+5) âœ…
â”‚  â”œâ”€ Header with metadata
â”‚  â”œâ”€ Statistics summary
â”‚  â”‚
â”‚  â”œâ”€ ğŸ“‹ Lista Tab âœ…
â”‚  â”‚  â””â”€ Rep cards with metrics
â”‚  â”‚
â”‚  â””â”€ ğŸ“Š Grafici Tab âœ… NEW!
â”‚     â”œâ”€ Scatter Chart
â”‚     â”‚  â”œâ”€ Metric selector
â”‚     â”‚  â”œâ”€ Color legend
â”‚     â”‚  â””â”€ Interactive points
â”‚     â”‚
â”‚     â”œâ”€ Heatline Chart
â”‚     â”‚  â”œâ”€ Progressive coloring
â”‚     â”‚  â””â”€ Best/worst segments
â”‚     â”‚
â”‚     â””â”€ Detail Dialog
â”‚        â”œâ”€ Timestamp
â”‚        â”œâ”€ Metrics
â”‚        â”œâ”€ Warnings
â”‚        â””â”€ Comparisons
â”‚
â”œâ”€ ğŸ‹ï¸ Workout Tracking (Phase 1) âœ…
â”‚  â”œâ”€ Real-time pose detection
â”‚  â”œâ”€ Rep counting
â”‚  â””â”€ Auto-save session
â”‚
â”œâ”€ ğŸ“¤ Export & Share (Phase 3) âœ…
â”‚  â”œâ”€ Session summaries
â”‚  â”œâ”€ Social templates
â”‚  â””â”€ CSV export
â”‚
â”œâ”€ ğŸ“… Calendar & Recovery (Phase 4) âœ…
â”‚  â”œâ”€ Streak tracking
â”‚  â”œâ”€ Calendar view
â”‚  â””â”€ Recovery mode
â”‚
â””â”€ ğŸ¨ Exercise System (Phase 6) ğŸŸ¡
   â”œâ”€ Exercise Models âœ…
   â”œâ”€ Exercise DAO âœ…
   â”œâ”€ Preset Manager âœ…
   â”œâ”€ 5 Presets âœ…
   â”œâ”€ Validator Core â³ TODO
   â”œâ”€ MainActivity Refactor â³ TODO
   â”œâ”€ Exercise Browser â³ TODO
   â”œâ”€ Exercise Editor â³ TODO
   â””â”€ Photo Generator â³ TODO
```

---

## ğŸ“ˆ Progress Timeline

```
Dec 2025                    Week 1
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Mon â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ Phase 5 Models + Scatter Chart
Tue â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ Phase 5 Heatline + Dialog
Wed â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ Phase 5 Integration Complete âœ…
Thu â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ Phase 6 Models + DAO
Fri â”‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ”‚ Phase 6 Preset Manager + Docs âœ…
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
                    Current Status:
                    Phase 5: âœ… 100%
                    Phase 6: ğŸŸ¡ 60%
```

---

**Legend**:
- âœ… Complete
- ğŸŸ¡ In Progress / Partial
- â³ TODO / Not Started
- ğŸ”´ Blocked / Issue
- âš¡ High Priority
- ğŸ¨ Low Priority

**Version**: DB v3 | App v1.0  
**Last Updated**: 8 Dec 2025
